---
import BaseLayout from '../layouts/BaseLayout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';

const shareTemplates = {
  twitter: {
    text: 'ğŸŒ¿ Indonesia butuh kebijakan buyback kemasan plastik. Ini bukan cuma soal lingkungan, tapi juga ekonomi rakyat. Yuk dukung gerakan ini bersama.',
    hashtags: 'BuybackKemasan,IndonesiaBersih,ZeroWaste',
  },
  instagram: {
    caption: `ğŸŒ¿ BUYBACK KEMASAN PLASTIK

Indonesia menghasilkan 6.8 juta ton sampah plastik per tahun. Hanya 11% yang didaur ulang.

Kebijakan buyback bisa:
âœ… Mengurangi sampah plastik ke TPA
âœ… Menciptakan lapangan kerja
âœ… Meningkatkan pendapatan pemulung
âœ… Membangun ekonomi sirkular

Yuk dukung gerakan ini.

#BuybackKemasan #IndonesiaBersih #ZeroWaste #EkonomiSirkular`,
  },
  whatsapp: {
    text: `ğŸŒ¿ *Tahukah kamu?*

Indonesia menghasilkan 6.8 juta ton sampah plastik per tahun, tapi hanya 11% yang didaur ulang.

Kebijakan buyback kemasan plastik bisa:
âœ… Mengurangi sampah ke TPA
âœ… Menciptakan lapangan kerja baru
âœ… Meningkatkan pendapatan pemulung

Yuk dukung gerakan ini: https://buyback.my.id`,
  },
};

const downloadAssets = [
  {
    title: 'Social Media Kit',
    description: 'Template posting untuk Instagram, Twitter, dan WhatsApp',
    icon: 'ğŸ“±',
    filename: 'social-media-kit.zip',
    size: '15 MB',
  },
  {
    title: 'Infografis',
    description: 'Infografis data sampah plastik Indonesia',
    icon: 'ğŸ“Š',
    filename: 'infografis-buyback.pdf',
    size: '2.5 MB',
  },
  {
    title: 'Fact Sheet',
    description: 'Lembar fakta tentang kebijakan buyback',
    icon: 'ğŸ“„',
    filename: 'fact-sheet-buyback.pdf',
    size: '500 KB',
  },
  {
    title: 'Poster Campaign',
    description: 'Poster siap cetak untuk kampanye offline',
    icon: 'ğŸ–¼ï¸',
    filename: 'poster-campaign.zip',
    size: '25 MB',
  },
];

const contactOptions = [
  {
    platform: 'Email',
    icon: 'ğŸ“§',
    value: 'info@buyback.my.id',
    url: 'mailto:info@buyback.my.id',
  },
  {
    platform: 'Instagram',
    icon: 'ğŸ“¸',
    value: '@buyback.id',
    url: 'https://instagram.com/buyback.id',
  },
  {
    platform: 'Twitter/X',
    icon: 'ğŸ¦',
    value: '@buyback_id',
    url: 'https://twitter.com/buyback_id',
  },
];
---

<BaseLayout 
  title="Aksi Nyata" 
  description="Cara mudah untuk turut mendukung kebijakan buyback kemasan plastik di Indonesia."
>
  <Header />
  
  <main>
    <!-- Hero -->
    <section class="section bg-gradient-to-br from-green-50 to-white">
      <div class="container-wide">
        <div class="text-center mb-12">
          <h1 class="font-display text-4xl md:text-5xl font-bold text-gray-900 mb-4">
            Aksi Nyata
          </h1>
          <p class="text-lg text-gray-600 max-w-2xl mx-auto">
            Setiap aksi kecil berdampak besar. Pilih cara yang paling cocok untuk kamu.
          </p>
        </div>
      </div>
    </section>
    
    <!-- Action Steps -->
    <section class="section bg-white">
      <div class="container-wide">
        <h2 class="font-display text-2xl font-bold text-gray-900 mb-8 text-center">
          3 Langkah Mudah
        </h2>
        
        <div class="grid md:grid-cols-3 gap-8">
          <!-- Step 1: Share -->
          <div class="card text-center">
            <div class="w-16 h-16 mx-auto bg-primary-100 rounded-full flex items-center justify-center text-3xl mb-4">
              ğŸ“£
            </div>
            <div class="text-xs font-bold text-primary-600 mb-2">LANGKAH 1</div>
            <h3 class="font-display font-bold text-xl mb-3">Sebarkan</h3>
            <p class="text-gray-600 mb-4">
              Share informasi ke media sosial kamu. Makin banyak yang tahu, makin besar dampaknya.
            </p>
            <a href="#share" class="btn btn-primary w-full">
              Mulai Share
            </a>
          </div>
          
          <!-- Step 2: Support -->
          <div class="card text-center">
            <div class="w-16 h-16 mx-auto bg-primary-100 rounded-full flex items-center justify-center text-3xl mb-4">
              âœŠ
            </div>
            <div class="text-xs font-bold text-primary-600 mb-2">LANGKAH 2</div>
            <h3 class="font-display font-bold text-xl mb-3">Dukung</h3>
            <p class="text-gray-600 mb-4">
              Tambahkan dukungan kamu. Setiap suara dihitung dan ditampilkan secara publik.
            </p>
            <a href="#dukung" class="btn btn-primary w-full">
              Dukung Sekarang
            </a>
          </div>
          
          <!-- Step 3: Report -->
          <div class="card text-center">
            <div class="w-16 h-16 mx-auto bg-primary-100 rounded-full flex items-center justify-center text-3xl mb-4">
              ğŸ“¢
            </div>
            <div class="text-xs font-bold text-primary-600 mb-2">LANGKAH 3</div>
            <h3 class="font-display font-bold text-xl mb-3">Laporkan</h3>
            <p class="text-gray-600 mb-4">
              Temukan pernyataan pejabat terkait buyback? Laporkan ke kami untuk diverifikasi.
            </p>
            <a href="#lapor" class="btn btn-primary w-full">
              Laporkan
            </a>
          </div>
        </div>
      </div>
    </section>
    
    <!-- Share Section -->
    <section id="share" class="section bg-gray-50">
      <div class="container-narrow">
        <h2 class="font-display text-2xl font-bold text-gray-900 mb-8 text-center">
          Template Share
        </h2>
        
        <div class="space-y-6">
          <!-- Twitter -->
          <div class="card" x-data="{ copied: false }">
            <div class="flex items-center gap-2 mb-3">
              <span class="text-xl">ğŸ¦</span>
              <h3 class="font-semibold">Twitter / X</h3>
            </div>
            <div class="bg-gray-50 p-4 rounded-lg text-sm mb-4">
              <p>{shareTemplates.twitter.text}</p>
              <p class="text-primary-600 mt-2">#{shareTemplates.twitter.hashtags.split(',').join(' #')}</p>
            </div>
            <div class="flex gap-2">
              <button 
                class="btn btn-secondary flex-1"
                @click={`navigator.clipboard.writeText('${shareTemplates.twitter.text} #${shareTemplates.twitter.hashtags.replace(/,/g, ' #')}'); copied = true; setTimeout(() => copied = false, 2000)`}
              >
                <span x-show="!copied">ğŸ“‹ Copy Text</span>
                <span x-show="copied">âœ… Copied</span>
              </button>
              <a 
                href={`https://twitter.com/intent/tweet?text=${encodeURIComponent(shareTemplates.twitter.text)}&hashtags=${shareTemplates.twitter.hashtags}&url=https://buyback.my.id`}
                target="_blank"
                rel="noopener noreferrer"
                class="btn btn-primary flex-1"
              >
                Post ke Twitter
              </a>
            </div>
          </div>
          
          <!-- Instagram -->
          <div class="card" x-data="{ copied: false }">
            <div class="flex items-center gap-2 mb-3">
              <span class="text-xl">ğŸ“¸</span>
              <h3 class="font-semibold">Instagram</h3>
            </div>
            <div class="bg-gray-50 p-4 rounded-lg text-sm mb-4 whitespace-pre-line">
              {shareTemplates.instagram.caption}
            </div>
            <button 
              class="btn btn-secondary w-full"
              @click={`navigator.clipboard.writeText(\`${shareTemplates.instagram.caption.replace(/`/g, '\\`')}\`); copied = true; setTimeout(() => copied = false, 2000)`}
            >
              <span x-show="!copied">ğŸ“‹ Copy Caption</span>
              <span x-show="copied">âœ… Copied</span>
            </button>
          </div>
          
          <!-- WhatsApp -->
          <div class="card">
            <div class="flex items-center gap-2 mb-3">
              <span class="text-xl">ğŸ’¬</span>
              <h3 class="font-semibold">WhatsApp</h3>
            </div>
            <div class="bg-gray-50 p-4 rounded-lg text-sm mb-4 whitespace-pre-line">
              {shareTemplates.whatsapp.text}
            </div>
            <a 
              href={`https://wa.me/?text=${encodeURIComponent(shareTemplates.whatsapp.text)}`}
              target="_blank"
              rel="noopener noreferrer"
              class="btn bg-green-500 text-white hover:bg-green-600 w-full"
            >
              Share via WhatsApp
            </a>
          </div>
        </div>
      </div>
    </section>
    
    <!-- Support Form -->
    <section id="dukung" class="section bg-white">
      <div class="container-narrow">
        <h2 class="font-display text-2xl font-bold text-gray-900 mb-8 text-center">
          Tambahkan Dukungan
        </h2>
        
        <form 
          class="card max-w-lg mx-auto"
          x-data="{ loading: false, success: false }"
          @submit.prevent="loading = true; setTimeout(() => { loading = false; success = true; }, 1000)"
        >
          <div class="space-y-4">
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">
                Nama Lengkap
              </label>
              <input 
                type="text" 
                name="name"
                required
                class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary-500 focus:border-primary-500"
                placeholder="Masukkan nama kamu"
              />
            </div>
            
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">
                Email
              </label>
              <input 
                type="email" 
                name="email"
                required
                class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary-500 focus:border-primary-500"
                placeholder="email@contoh.com"
              />
            </div>
            
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">
                Kota/Kabupaten
              </label>
              <input 
                type="text" 
                name="city"
                class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary-500 focus:border-primary-500"
                placeholder="Contoh: Jakarta Selatan"
              />
            </div>
            
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">
                Pesan Dukungan (Opsional)
              </label>
              <textarea 
                name="message"
                rows="3"
                class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary-500 focus:border-primary-500"
                placeholder="Tuliskan alasan kamu mendukung kebijakan ini..."
              ></textarea>
            </div>
            
            <div class="flex items-start gap-2">
              <input type="checkbox" id="consent" required class="mt-1" />
              <label for="consent" class="text-sm text-gray-600">
                Saya setuju nama saya ditampilkan di daftar pendukung publik
              </label>
            </div>
          </div>
          
          <button 
            type="submit" 
            class="btn btn-primary w-full mt-6"
            :disabled="loading"
          >
            <span x-show="!loading && !success">Dukung Sekarang</span>
            <span x-show="loading">Memproses...</span>
            <span x-show="success">âœ… Terima kasih atas dukungannya</span>
          </button>
        </form>
      </div>
    </section>
    
    <!-- Report Form -->
    <section id="lapor" class="section bg-gray-50">
      <div class="container-narrow">
        <h2 class="font-display text-2xl font-bold text-gray-900 mb-8 text-center">
          Laporkan Pernyataan Pejabat
        </h2>
        
        <form class="card max-w-lg mx-auto">
          <div class="space-y-4">
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">
                Nama Pejabat
              </label>
              <input 
                type="text" 
                name="politician_name"
                required
                class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary-500 focus:border-primary-500"
                placeholder="Contoh: Menteri X"
              />
            </div>
            
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">
                Link Sumber
              </label>
              <input 
                type="url" 
                name="source_url"
                required
                class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary-500 focus:border-primary-500"
                placeholder="https://..."
              />
            </div>
            
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">
                Kutipan Pernyataan
              </label>
              <textarea 
                name="quote"
                rows="3"
                required
                class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary-500 focus:border-primary-500"
                placeholder="Tuliskan kutipan pernyataan yang relevan..."
              ></textarea>
            </div>
            
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">
                Email Kamu (untuk follow-up)
              </label>
              <input 
                type="email" 
                name="reporter_email"
                class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary-500 focus:border-primary-500"
                placeholder="email@contoh.com"
              />
            </div>
          </div>
          
          <button type="submit" class="btn btn-primary w-full mt-6">
            Kirim Laporan
          </button>
        </form>
      </div>
    </section>
    
    <!-- Petition Section -->
    <section class="section bg-gradient-to-br from-primary-50 to-white">
      <div class="container-narrow text-center">
        <div class="mb-6">
          <span class="text-5xl mb-4 block">âœï¸</span>
          <h2 class="font-display text-2xl md:text-3xl font-bold text-gray-900 mb-4">
            Tanda Tangani Petisi
          </h2>
          <p class="text-gray-600 mb-8 max-w-xl mx-auto">
            Petisi ini akan disampaikan ke DPR dan Kementerian terkait untuk mendorong 
            implementasi kebijakan buyback kemasan plastik di Indonesia.
          </p>
        </div>
        
        <div class="card max-w-lg mx-auto">
          <div class="text-left mb-6">
            <div class="flex items-center justify-between mb-4">
              <div>
                <div class="text-3xl font-display font-bold text-primary-600">12.458</div>
                <div class="text-sm text-gray-600">Tanda tangan terkumpul</div>
              </div>
              <div>
                <div class="text-3xl font-display font-bold text-gray-900">50.000</div>
                <div class="text-sm text-gray-600">Target tanda tangan</div>
              </div>
            </div>
            <div class="w-full bg-gray-200 rounded-full h-3 mb-2">
              <div class="bg-primary-600 h-3 rounded-full" style="width: 24.9%"></div>
            </div>
            <p class="text-xs text-gray-500">Butuh 37.542 tanda tangan lagi</p>
          </div>
          
          <a 
            href="https://www.change.org/buyback-kemasan-plastik-indonesia" 
            target="_blank"
            rel="noopener noreferrer"
            class="btn btn-primary w-full text-lg"
          >
            Tanda Tangani Petisi
          </a>
          <p class="text-xs text-gray-500 mt-3">
            Petisi diselenggarakan di Change.org
          </p>
        </div>
      </div>
    </section>
    
    <!-- Event Calendar -->
    <section class="section bg-white">
      <div class="container-wide">
        <h2 class="font-display text-2xl font-bold text-gray-900 mb-8 text-center">
          Event & Kegiatan
        </h2>
        
        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
          <!-- Upcoming Events -->
          <div class="card border-l-4 border-primary-600">
            <div class="flex items-center gap-2 mb-3">
              <span class="text-2xl">ğŸ“…</span>
              <div>
                <div class="text-xs text-gray-500">15 Februari 2026</div>
                <h3 class="font-semibold">Webinar: Ekonomi Sirkular</h3>
              </div>
            </div>
            <p class="text-sm text-gray-600 mb-4">
              Diskusi online tentang implementasi ekonomi sirkular dan peran buyback system.
            </p>
            <a href="#" class="text-primary-600 text-sm font-medium hover:underline">
              Daftar Sekarang â†’
            </a>
          </div>
          
          <div class="card border-l-4 border-green-600">
            <div class="flex items-center gap-2 mb-3">
              <span class="text-2xl">ğŸ—£ï¸</span>
              <div>
                <div class="text-xs text-gray-500">22 Februari 2026</div>
                <h3 class="font-semibold">Hearing DPR RI</h3>
              </div>
            </div>
            <p class="text-sm text-gray-600 mb-4">
              Penyampaian aspirasi dan data dukungan publik kepada Komisi VII DPR RI.
            </p>
            <a href="#" class="text-primary-600 text-sm font-medium hover:underline">
              Info Lebih Lanjut â†’
            </a>
          </div>
          
          <div class="card border-l-4 border-blue-600">
            <div class="flex items-center gap-2 mb-3">
              <span class="text-2xl">ğŸ¤</span>
              <div>
                <div class="text-xs text-gray-500">1 Maret 2026</div>
                <h3 class="font-semibold">Talkshow: Zero Waste Living</h3>
              </div>
            </div>
            <p class="text-sm text-gray-600 mb-4">
              Berbagi pengalaman dan tips menjalani gaya hidup zero waste di Indonesia.
            </p>
            <a href="#" class="text-primary-600 text-sm font-medium hover:underline">
              Lihat Detail â†’
            </a>
          </div>
        </div>
        
        <div class="text-center mt-8">
          <p class="text-gray-600 mb-4">
            Ingin mengadakan event terkait buyback kemasan di kotamu?
          </p>
          <a href="mailto:events@buyback.my.id" class="btn btn-secondary">
            Hubungi Tim Event
          </a>
        </div>
      </div>
    </section>
    
    <!-- Download Assets -->
    <section class="section bg-white">
      <div class="container-wide">
        <h2 class="font-display text-2xl font-bold text-gray-900 mb-8 text-center">
          Download Materi Kampanye
        </h2>
        
        <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6">
          {downloadAssets.map(asset => (
            <div class="card text-center">
              <div class="text-4xl mb-3">{asset.icon}</div>
              <h3 class="font-semibold mb-2">{asset.title}</h3>
              <p class="text-sm text-gray-600 mb-4">{asset.description}</p>
              <a 
                href={`/downloads/${asset.filename}`}
                class="btn btn-secondary w-full text-sm"
              >
                Download ({asset.size})
              </a>
            </div>
          ))}
        </div>
      </div>
    </section>
    
    <!-- Contact -->
    <section class="section bg-primary-600">
      <div class="container-narrow text-center">
        <h2 class="font-display text-2xl md:text-3xl font-bold text-white mb-6">
          Ada Pertanyaan?
        </h2>
        <p class="text-primary-100 mb-8">
          Hubungi kami melalui channel berikut
        </p>
        
        <div class="flex flex-wrap justify-center gap-4">
          {contactOptions.map(contact => (
            <a 
              href={contact.url}
              target="_blank"
              rel="noopener noreferrer"
              class="bg-white/10 hover:bg-white/20 text-white px-6 py-3 rounded-lg flex items-center gap-2 transition-colors"
            >
              <span class="text-xl">{contact.icon}</span>
              <span>{contact.value}</span>
            </a>
          ))}
        </div>
      </div>
    </section>
  </main>
  
  <Footer />
</BaseLayout>
